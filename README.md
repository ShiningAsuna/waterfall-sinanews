# waterfall-sinanews

预览地址:[https://shiningasuna.github.io/waterfall-sinanews/](https://shiningasuna.github.io/waterfall-sinanews)

#### waterfall.js
瀑布流组件，将容器和要排列的项目作为参数传入，调用init方法即可实现瀑布流布局排列

瀑布流原理：
- 瀑布流布局要求要进行布置的元素**等宽**，然后计算元素的宽度与浏览器宽度之比，得到需要**布置的列数**
- 创建一个数组，长度为列数，里面的值为已布置元素的**总高度**（最开始为0）
- 然后将未布置的元素依次布置到**高度最小**的那一列，就得到了瀑布流布局
*布局后将容器高度设置为最高的一列的高度，用以撑开容器*

#### exposure.js
元素出现组件，判断元素是否出现在视野内

懒加载原理:
打开页面时先加载20条，调用元素出现组件，判断页面底部的隐藏元素是否出现在视野内，如果是，再加载接下来的20条

#### easytpl.js
模板替换组件，将模板和json数据传入，根据'tpl-data'属性和json对象字段名一一对应，为模板中的元素赋值
